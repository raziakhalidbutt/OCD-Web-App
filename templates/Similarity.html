{% extends "Similar Words.html" %}

{% block content %}
<body> 
<div class="page">
  
  <h4 style="display:inline-block;">Similar words found for <b>{{query}}</b> in model {{model}}</h4>
  <button style="float:right;" type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#myModal">Examples</button>
  <hr style="width:60%;margin-left:0;margin-top: 0px;" />
  <br>

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Examples</h4>  
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          {%for q in query_example%}
                <p >{{q}}</p>
          {%endfor%}
        </div>
        <div class="modal-footer">
      
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>
      
</div>

<!-- Table -->
 
<div class="card">
  <div class="card-body">
    
    <div class="mt-4">
      
        <table id="proxies" class="display table nowrap responsive" style="width: 100%" data-toggle="table">
          <thead>
            <tr>
                
                <th>Word</th>
                <th>Cosine Similarity</th>
                <th>Score</th>
                <th>Examples</th>
            </tr>
          </thead>
          <tbody>
              {% for word, similar,k,v in zip(words,similarity,keys,values)%}
                <tr>
                  <td>{{ word }}</td>
                  <td>{{ similar }}</td>
                  <td>
                      <select class="form-control">
                          {% for i in range(1,11)%}
                              <option value="score">{{i}}</option>
                          {% endfor %}
                      </select>
                  </td>
                  
                  <td>
                    <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#myOutput{{k}}">Examples</button>
                  </td>
                
                </tr>
                {% endfor %}
          </tbody>
        </table>
  
    </div>
  </div>
</div>

<!-- Modal -->

{% for k,v,p,l in zip(keys,values,position,length)%}
  <div class="modal fade" id="myOutput{{k}}" role="dialog">
    <div class="modal-dialog">

      Modal content
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Examples</h4>  
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          
        </div>
        <div class="modal-body">
          {%for i,j in zip(v[:10],p)%}

              <p >{{i[:j]}}<strong><i>{{i[j:j+l]}}</i></strong>{{i[j+l:]}}</p>
              <!-- <p >{{i[j-50:j]}}<strong><i>{{i[j:j+l]}}</i></strong>{{i[j+l:j+l+50]}}</p> -->   
          {%endfor%}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>

{% endfor %}
 
</body>
<script>
  var model = sessionStorage.getItem("model");
  document.getElementById("step5").innerHTML= model; 
  </script>
{% endblock %}





  